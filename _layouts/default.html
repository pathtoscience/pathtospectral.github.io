<!DOCTYPE html>
<html lang="{{ site.lang | default: " en-US" }}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>

<body>

    <div class="wrapper">
        <!-- Sidebar (Varoquaux Style) -->
        <aside class="sidebar">
            <div class="profile-section">
                <img src="{{ '/assets/images/profile.png' | relative_url }}" alt="Profile Photo" class="profile-img">
            </div>

            <h1 class="site-title"><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
            <p class="description">{{ site.description }}</p>

            <nav>
                {% for item in site.navigation %}
                <a href="{{ item.url | relative_url }}" {% if page.url==item.url %}class="active" {% endif %}>{{
                    item.title }}</a>
                {% endfor %}
            </nav>

            <div class="theme-toggle-wrapper">
                <button id="theme-toggle" class="theme-btn">
                    <span id="theme-text">Switch to Light Mode</span>
                </button>
            </div>
        </aside>

        <!-- Main Content (Duvenaud Style) -->
        <main class="content">
            {{ content }}
        </main>
    </div>

    <script>
        const btn = document.getElementById('theme-toggle');
        const themeText = document.getElementById('theme-text');
        const currentTheme = localStorage.getItem('theme');

        if (currentTheme === 'light') {
            document.body.classList.add('light-mode');
            themeText.innerText = 'Switch to Dark Mode';
        }

        btn.addEventListener('click', function () {
            document.body.classList.toggle('light-mode');

            let theme = 'dark';
            if (document.body.classList.contains('light-mode')) {
                theme = 'light';
                themeText.innerText = 'Switch to Dark Mode';
            } else {
                themeText.innerText = 'Switch to Light Mode';
            }
            localStorage.setItem('theme', theme);
        });
    </script>
</body>

</html>